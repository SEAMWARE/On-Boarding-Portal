<div class="page-container">
    <app-toolbar [showAdminLogin]="false" [showOnBoarding]="false" />
    <div class="onboarding-wrapper">
        <mat-card class="main-container animate-fade-in">

            <mat-tab-group animationDuration="400ms" [selectedIndex]="selectedTabIndex"
                (selectedIndexChange)="updateAnchor($event)">

                <mat-tab>
                    <ng-template mat-tab-label>
                        <mat-icon class="tab-icon">add</mat-icon>
                        <span>REGISTER ENTITY</span>
                    </ng-template>
                    <div class="tab-content">
                        <app-registration-form />
                    </div>
                </mat-tab>
                <mat-tab>
                    <ng-template mat-tab-label>
                        <mat-icon class="tab-icon">track_changes</mat-icon>
                        <span>TRACK PROGRESS</span>
                    </ng-template>

                    <div class="tab-content">
                        <div class="status-lookup-wrapper">
                            @if(!trackedRegistration) {
                            <div class="search-info">
                                <h2>Resume Onboarding</h2>
                                <p>Retrieve the status of a previously submitted organization profile.</p>
                            </div>
                            }
                            @if(isProcessing()){
                            <mat-progress-bar mode="indeterminate" style="margin-top: 16px;"></mat-progress-bar>
                            }
                            <mat-form-field appearance="outline" style="width: 100%; margin-top: 24px;">
                                <mat-label>Application Tracking ID</mat-label>
                                <input matInput [(ngModel)]="trackingId">
                                <button mat-icon-button matSuffix (click)="onSearch()" [disabled]="!trackingId">
                                    <mat-icon>search</mat-icon>
                                </button>
                            </mat-form-field>
                            @if(trackedRegistration) {
                            <app-registration-details [registration]="trackedRegistration" [editable]="true"/>
                            }
                        </div>
                    </div>
                </mat-tab>
            </mat-tab-group>
        </mat-card>
    </div>
</div>